package models

import (
	"context"
	"time"
)




func (p *{{.Entity}}) Insert({{.LowerEntity}} {{.Entity}}) (int, error) {
	ctx, cancel := context.WithTimeout(context.Background(), dbTimeout)
	defer cancel()

	var newID int

	   


	         

	stmt := `insert into products (name, description, price, created_at, updated_at)
	values ($1, $2, $3, $4, $5) returning id`


	if err != nil {
		return 0, err
	}

	return newID, nil
}



func (p *{{.Entity}}) GetOneById(id int) (*{{.Entity}}), error) {
	ctx, cancel := context.WithTimeout(context.Background(), dbTimeout)
	defer cancel()

	


	var {{.LowerEntity}} {{.Entity}})
	row := db.QueryRowContext(ctx, query, id)

	

	if err != nil {
		return nil, err
	}

	return &{{.LowerEntity}}, nil
}